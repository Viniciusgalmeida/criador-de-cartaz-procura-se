#!/usr/bin/env sh

echo "ğŸ” Executando ferramentas de QA..."

echo "ğŸ“ ESLint - VerificaÃ§Ã£o de cÃ³digo..."
npm run lint
if [ $? -ne 0 ]; then
  echo "âŒ ESLint falhou. Corrija os erros antes de commitar."
  exit 1
fi

echo "ğŸ”§ TypeScript - VerificaÃ§Ã£o de tipos..."
npm run typecheck
if [ $? -ne 0 ]; then
  echo "âŒ TypeScript falhou. Corrija os erros de tipagem antes de commitar."
  exit 1
fi

echo "ğŸ—ï¸ Build - VerificaÃ§Ã£o de produÃ§Ã£o..."
npm run build
if [ $? -ne 0 ]; then
  echo "âŒ Build falhou. Corrija os erros antes de commitar."
  exit 1
fi

echo "ğŸ§ª Testes - ExecuÃ§Ã£o completa..."
npm run test:run
if [ $? -ne 0 ]; then
  echo "âŒ Testes falharam. Corrija os testes antes de commitar."
  exit 1
fi

echo "âœ… Todas as verificaÃ§Ãµes passaram! Commit permitido."
